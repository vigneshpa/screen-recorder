(()=>{var e,t,n={390:function(e){var t;t=()=>{"use strict";const e="object"==typeof window?window:this;e.HTMLElement||console.warn("streamsaver is meant to run on browsers main thread");let t=null,n=!1;const r=e.WebStreamsPolyfill||{},o=e.isSecureContext;let s=/constructor/i.test(e.HTMLElement)||!!e.safari||!!e.WebKitPoint;const i=o||"MozAppearance"in document.documentElement.style?"iframe":"navigate",a={createWriteStream:function(r,l,u){let d={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},f=0,m=null,p=null,h=null;if(Number.isFinite(l)?([u,l]=[l,u],console.warn("[StreamSaver] Depricated pass an object as 2nd argument when creating a write stream"),d.size=u,d.writableStrategy=l):l&&l.highWaterMark?(console.warn("[StreamSaver] Depricated pass an object as 2nd argument when creating a write stream"),d.size=u,d.writableStrategy=l):d=l||{},!s){t||(t=o?c(a.mitm):function(t){const n=document.createDocumentFragment(),r={frame:e.open(t,"popup","width=200,height=100"),loaded:!1,isIframe:!1,isPopup:!0,remove(){r.frame.close()},addEventListener(...e){n.addEventListener(...e)},dispatchEvent(...e){n.dispatchEvent(...e)},removeEventListener(...e){n.removeEventListener(...e)},postMessage(...e){r.frame.postMessage(...e)}},o=t=>{t.source===r.frame&&(r.loaded=!0,e.removeEventListener("message",o),r.dispatchEvent(new Event("load")))};return e.addEventListener("message",o),r}(a.mitm)),p=new MessageChannel,r=encodeURIComponent(r.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const s={transferringReadable:n,pathname:d.pathname||Math.random().toString().slice(-6)+"/"+r,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+r}};d.size&&(s.headers["Content-Length"]=d.size);const l=[s,"*",[p.port2]];if(n){const e="iframe"===i?void 0:{transform(e,t){if(!(e instanceof Uint8Array))throw new TypeError("Can only wirte Uint8Arrays");f+=e.length,t.enqueue(e),m&&(location.href=m,m=null)},flush(){m&&(location.href=m)}};h=new a.TransformStream(e,d.writableStrategy,d.readableStrategy);const t=h.readable;p.port1.postMessage({readableStream:t},[t])}p.port1.onmessage=e=>{e.data.download&&("navigate"===i?(t.remove(),t=null,f?location.href=e.data.download:m=e.data.download):(t.isPopup&&(t.remove(),t=null,"iframe"===i&&c(a.mitm)),c(e.data.download)))},t.loaded?t.postMessage(...l):t.addEventListener("load",(()=>{t.postMessage(...l)}),{once:!0})}let g=[];return!s&&h&&h.writable||new a.WritableStream({write(e){if(!(e instanceof Uint8Array))throw new TypeError("Can only wirte Uint8Arrays");s?g.push(e):(p.port1.postMessage(e),f+=e.length,m&&(location.href=m,m=null))},close(){if(s){const e=new Blob(g,{type:"application/octet-stream; charset=utf-8"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=r,t.click()}else p.port1.postMessage("end")},abort(){g=[],p.port1.postMessage("abort"),p.port1.onmessage=null,p.port1.close(),p.port2.close(),p=null}},d.writableStrategy)},WritableStream:e.WritableStream||r.WritableStream,supported:!0,version:{full:"2.0.5",major:2,minor:0,dot:5},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function c(e){if(!e)throw new Error("meh");const t=document.createElement("iframe");return t.hidden=!0,t.src=e,t.loaded=!1,t.name="iframe",t.isIframe=!0,t.postMessage=(...e)=>t.contentWindow.postMessage(...e),t.addEventListener("load",(()=>{t.loaded=!0}),{once:!0}),document.body.appendChild(t),t}try{new Response(new ReadableStream),o&&!("serviceWorker"in navigator)&&(s=!0)}catch(e){s=!0}return(e=>{try{(()=>{const{readable:e}=new TransformStream,t=new MessageChannel;t.port1.postMessage(e,[e]),t.port1.close(),t.port2.close(),n=!0,Object.defineProperty(a,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})})()}catch(e){}})(),a},e.exports=t()},894:(e,t,n)=>{"use strict";e.exports=n.p+"assets/mitm.html"}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={exports:{}};return n[e].call(s.exports,s,s.exports,o),s.exports}o.m=n,o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>"js/"+e+".js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="screen-recorder:",o.l=(n,r,s,i)=>{if(e[n])e[n].push(r);else{var a,c;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+s),a.src=n),e[n]=[r];var f=(t,r)=>{a.onerror=a.onload=null,clearTimeout(m);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),c&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e+"../"})(),(()=>{o.b=document.baseURI||self.location.href;var e={143:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=s);var i=o.p+o.u(t),a=new Error;o.l(i,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",a.name="ChunkLoadError",a.type=s,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,[i,a,c]=n,l=0;if(i.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);c&&c(o)}for(t&&t(n);l<i.length;l++)s=i[l],o.o(e,s)&&e[s]&&e[s][0](),e[i[l]]=0},n=self.webpackChunkscreen_recorder=self.webpackChunkscreen_recorder||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function s(e){e.forEach(n)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e){return 0===Object.keys(e).length}function l(e,t,n,r){if(e){const o=u(e,t,n,r);return e[0](o)}}function u(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function d(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function f(e,t,n,r,o,s){if(o){const i=u(t,n,r,s);e.p(i,o)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}const p="undefined"!=typeof window;let h=p?()=>window.performance.now():()=>Date.now(),g=p?e=>requestAnimationFrame(e):e;const v=new Set;function $(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&g($)}let w=!1;function y(e,t){e.appendChild(t)}function b(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function S(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode.removeChild(e)}function x(e){return document.createElement(e)}function _(e){return document.createTextNode(e)}function k(){return _(" ")}function T(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function M(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function C(e){return""===e?null:+e}function A(e,t){e.value=null==t?"":t}function L(e,t,n){e.classList[n?"add":"remove"](t)}const j=new Set;let O,P=0;function R(e,t,n,r,o,s,i,a=0){const c=16.666/r;let l="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*s(e);l+=100*e+`%{${i(r,1-r)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,f=b(e);j.add(f);const m=f.__svelte_stylesheet||(f.__svelte_stylesheet=function(e){const t=x("style");return function(e,t){y(e.head||e,t)}(b(e),t),t}(e).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,m.insertRule(`@keyframes ${d} ${u}`,m.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${r}ms linear ${o}ms 1 both`,P+=1,d}function D(e){O=e}const W=[],q=[],z=[],N=[],U=Promise.resolve();let I=!1;function F(e){z.push(e)}function B(e){N.push(e)}const H=new Set;let J,V=0;function K(){const e=O;do{for(;V<W.length;){const e=W[V];V++,D(e),G(e.$$)}for(D(null),W.length=0,V=0;q.length;)q.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];H.has(t)||(H.add(t),t())}z.length=0}while(W.length);for(;N.length;)N.pop()();I=!1,H.clear(),D(e)}function G(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}function Q(e,t,n){e.dispatchEvent(function(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}(`${t?"intro":"outro"}${n}`))}const X=new Set;let Y;function Z(e,t){e&&e.i&&(X.delete(e),e.i(t))}function ee(e,t,n,r){if(e&&e.o){if(X.has(e))return;X.add(e),Y.c.push((()=>{X.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const te={duration:0};function ne(n,r,o,a){let c=r(n,o),l=a?0:1,u=null,d=null,f=null;function m(){f&&function(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),P-=o,P||g((()=>{P||(j.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),j.clear())})))}(n,f)}function p(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function w(r){const{delay:o=0,duration:i=300,easing:a=t,tick:w=e,css:y}=c||te,b={start:h()+o,b:r};r||(b.group=Y,Y.r+=1),u||d?d=b:(y&&(m(),f=R(n,l,r,i,o,a,y)),r&&w(0,1),u=p(b,i),F((()=>Q(n,r,"start"))),function(e){let t;0===v.size&&g($),new Promise((n=>{v.add(t={c:e,f:n})}))}((e=>{if(d&&e>d.start&&(u=p(d,i),d=null,Q(n,u.b,"start"),y&&(m(),f=R(n,l,u.b,u.duration,0,a,c.css))),u)if(e>=u.end)w(l=u.b,1-l),Q(n,u.b,"end"),d||(u.b?m():--u.group.r||s(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;l=u.a+u.d*a(t/u.duration),w(l,1-l)}return!(!u&&!d)})))}return{run(e){i(c)?(J||(J=Promise.resolve(),J.then((()=>{J=null}))),J).then((()=>{c=c(),w(e)})):w(e)},end(){m(),u=d=null}}}let re;function oe(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function se(e){e&&e.c()}function ie(e,t,r,o){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=e.$$;a&&a.m(t,r),o||F((()=>{const t=c.map(n).filter(i);l?l.push(...t):s(t),e.$$.on_mount=[]})),u.forEach(F)}function ae(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ce(t,n,o,i,a,c,l,u=[-1]){const d=O;D(t);const f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};l&&l(f.root);let m=!1;if(f.ctx=o?o(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),m&&function(e,t){-1===e.$$.dirty[0]&&(W.push(e),I||(I=!0,U.then(K)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),m=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){w=!0;const e=(p=n.target,Array.from(p.childNodes));f.fragment&&f.fragment.l(e),e.forEach(E)}else f.fragment&&f.fragment.c();n.intro&&Z(t.$$.fragment),ie(t,n.target,n.anchor,n.customElement),w=!1,K()}var p;D(d)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(re=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(n).filter(i);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){s(this.$$.on_disconnect)}$destroy(){ae(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!c(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});class le{$destroy(){ae(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!c(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ue(e){let t,n,r,o,i,a,c,u,p,h,g;const v=e[5].default,$=l(v,e,e[4],null);return{c(){t=x("div"),n=x("label"),$&&$.c(),r=k(),o=x("button"),o.textContent="-",i=k(),a=x("input"),c=k(),u=x("button"),u.textContent="+",M(n,"for",e[2]),M(n,"class","svelte-sfum2z"),M(o,"class","dec svelte-sfum2z"),M(a,"type","number"),M(a,"id",e[2]),M(a,"min",e[1]),M(a,"class","svelte-sfum2z"),M(u,"class","inc svelte-sfum2z"),M(t,"class","container svelte-sfum2z")},m(s,l){S(s,t,l),y(t,n),$&&$.m(n,null),y(t,r),y(t,o),y(t,i),y(t,a),A(a,e[0]),y(t,c),y(t,u),p=!0,h||(g=[T(o,"click",e[6]),T(a,"input",e[7]),T(u,"click",e[8])],h=!0)},p(e,[t]){$&&$.p&&(!p||16&t)&&f($,v,e,e[4],p?d(v,e[4],t,null):m(e[4]),null),(!p||2&t)&&M(a,"min",e[1]),1&t&&C(a.value)!==e[0]&&A(a,e[0])},i(e){p||(Z($,e),p=!0)},o(e){ee($,e),p=!1},d(e){e&&E(t),$&&$.d(e),h=!1,s(g)}}}function de(e,t,n){let{$$slots:r={},$$scope:o}=t,{name:s="default"}=t,{value:i=parseInt(localStorage.getItem("number-"+s))||0}=t,{min:a=0}=t,c=Math.floor(1e3*Math.random())+"-number";return e.$$set=e=>{"name"in e&&n(3,s=e.name),"value"in e&&n(0,i=e.value),"min"in e&&n(1,a=e.min),"$$scope"in e&&n(4,o=e.$$scope)},e.$$.update=()=>{11&e.$$.dirty&&(n(0,i=Math.trunc(i)),i<a&&n(0,i=a),localStorage.setItem("number-"+s,i))},[i,a,c,s,o,r,()=>n(0,i--,i),function(){i=C(this.value),n(0,i),n(1,a),n(3,s)},()=>n(0,i++,i)]}const fe=class extends le{constructor(e){super(),ce(this,e,de,ue,a,{name:3,value:0,min:1})}};var me=o(390);window.WritableStream||o.e(902).then(o.bind(o,902)).then((e=>{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(window[t]=e[t]);me.WritableStream=e.WritableStream,me.TransformStream=e.TransformStream}));const pe=new URL(o(894),o.b);me.mitm=pe;class he extends window.EventTarget{constructor(e){super(),this.config=e,this.rStream=new MediaStream,this.recorder=new MediaRecorder(this.rStream),this.aCtx=new AudioContext,this.aDest=this.aCtx.createMediaStreamDestination(),this.state="idle"}async requestScreen(){const e=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});e.getVideoTracks().length<1&&this.throwError("Unable to get video"),e.getVideoTracks().forEach((e=>this.rStream.addTrack(e))),this.config.systemAudio&&(this.config.systemAudio=e.getAudioTracks().length>0),this.config.systemAudio&&this.aCtx.createMediaStreamSource(e).connect(this.aDest),this.recorder.addEventListener("stop",(t=>setTimeout((t=>e.getTracks().forEach((e=>e.stop()))),300))),e.getVideoTracks()[0].addEventListener("ended",(()=>this.stop()))}async requestMicrophone(){if(!this.config.microphone)return;const e=await navigator.mediaDevices.getUserMedia({audio:!0});this.config.microphone=e.getAudioTracks().length>0,this.config.microphone&&this.aCtx.createMediaStreamSource(e).connect(this.aDest)}async requestStreams(){return"idle"!==this.state&&this.throwError("Recorder is not idle"),await this.requestScreen(),await this.requestMicrophone(),(this.config.microphone||this.config.systemAudio)&&this.aDest.stream.getAudioTracks().forEach((e=>this.rStream.addTrack(e))),this.state="gotPermissions",this.dispatchEvent(new Event("gotPermissions")),this.rStream}saveStream(){"gotPermissions"!==this.state&&this.throwError("The recorder's state is invalid");const e=this.recorder.mimeType.split(";")[0].split("/")[1]||"webm",t=new TransformStream({async transform(e,t){t.enqueue(new Uint8Array(await e.arrayBuffer()))}}),n=t.writable.getWriter(),r=me.createWriteStream("output."+e);t.readable.pipeTo(r),this.recorder.addEventListener("dataavailable",(e=>n.write(e.data))),this.recorder.addEventListener("stop",(e=>setTimeout((e=>{n.close(),this.state="stopped",this.dispatchEvent(new Event("stopped"))}),1e3))),this.recorder.start(this.config.timeslice),this.state="recording"}stop(){"recording"===this.state?this.recorder.stop():this.throwError("Cannot stop recording"),this.state="stopping",this.dispatchEvent(new Event("stopping"))}throwError(e){const t=new Error(e);this.state="error";const n=new Event("error");throw n.error=t,this.dispatchEvent(n),t}}function ge(e){let t,n,r,o,s,i,a,c,u,p;const h=e[3].default,g=l(h,e,e[2],null);return{c(){t=x("div"),n=x("label"),r=x("input"),o=k(),s=x("div"),i=k(),a=x("label"),g&&g.c(),M(r,"type","checkbox"),M(r,"id",e[1]),M(r,"class","svelte-hvohga"),M(s,"class","but svelte-hvohga"),M(n,"class","switch svelte-hvohga"),M(a,"for",e[1]),M(a,"class","txt svelte-hvohga"),M(t,"class","container svelte-hvohga")},m(l,d){S(l,t,d),y(t,n),y(n,r),r.checked=e[0],y(n,o),y(n,s),y(t,i),y(t,a),g&&g.m(a,null),c=!0,u||(p=T(r,"change",e[4]),u=!0)},p(e,[t]){1&t&&(r.checked=e[0]),g&&g.p&&(!c||4&t)&&f(g,h,e,e[2],c?d(h,e[2],t,null):m(e[2]),null)},i(e){c||(Z(g,e),c=!0)},o(e){ee(g,e),c=!1},d(e){e&&E(t),g&&g.d(e),u=!1,p()}}}function ve(e,t,n){let{$$slots:r={},$$scope:o}=t,{value:s=!1}=t,i=Math.trunc(1e3*Math.random())+"-switch";return e.$$set=e=>{"value"in e&&n(0,s=e.value),"$$scope"in e&&n(2,o=e.$$scope)},[s,i,o,r,function(){s=this.checked,n(0,s)}]}const $e=class extends le{constructor(e){super(),ce(this,e,ve,ge,a,{value:0})}};function we(t){let n,r,o,s,a;return{c(){n=x("div"),r=x("div"),o=x("div"),M(o,"class","innerdiv svelte-r167gc"),L(o,"recording",t[0]),M(r,"class","ring svelte-r167gc"),L(r,"recording",t[0]),M(n,"class","container svelte-r167gc")},m(e,c){S(e,n,c),y(n,r),y(r,o),s||(a=T(r,"click",(function(){i(t[1])&&t[1].apply(this,arguments)})),s=!0)},p(e,[n]){t=e,1&n&&L(o,"recording",t[0]),1&n&&L(r,"recording",t[0])},i:e,o:e,d(e){e&&E(n),s=!1,a()}}}function ye(e,t,n){let{recording:r=!1}=t,{toogle:o=(()=>{n(0,r=!r)})}=t;return e.$$set=e=>{"recording"in e&&n(0,r=e.recording),"toogle"in e&&n(1,o=e.toogle)},[r,o]}const be=class extends le{constructor(e){super(),ce(this,e,ye,we,a,{recording:0,toogle:1})}};function Se(e,{delay:n=0,duration:r=400,easing:o=t}={}){const s=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:o,css:e=>"opacity: "+e*s}}async function Ee(e=1e3){return new Promise((t=>setTimeout((()=>t()),e)))}function xe(e){let t;return{c(){t=_("Record system audio")},m(e,n){S(e,t,n)},d(e){e&&E(t)}}}function _e(e){let t;return{c(){t=_("Record from microphone")},m(e,n){S(e,t,n)},d(e){e&&E(t)}}}function ke(e){let t;return{c(){t=_("Save video while recroding (recomended)")},m(e,n){S(e,t,n)},d(e){e&&E(t)}}}function Te(e){let t;return{c(){t=_("Countdown")},m(e,n){S(e,t,n)},d(e){e&&E(t)}}}function Me(e){let t,n,r,o;return{c(){t=x("div"),n=_(e[6]),M(t,"class","counter svelte-x515sc")},m(e,r){S(e,t,r),y(t,n),o=!0},p(e,t){var r,s;(!o||64&t)&&(r=n,s=""+(s=e[6]),r.wholeText!==s&&(r.data=s))},i(e){o||(F((()=>{r||(r=ne(t,Se,{},!0)),r.run(1)})),o=!0)},o(e){r||(r=ne(t,Se,{},!1)),r.run(0),o=!1},d(e){e&&E(t),e&&r&&r.end()}}}function Ce(e){let t,n,r,o,i,a,c,l,u,d,f,m,p,h,g,v,$,w,b,_,C,A,j,O,P,R,D,W;function z(t){e[12](t)}let N={$$slots:{default:[xe]},$$scope:{ctx:e}};function U(t){e[13](t)}void 0!==e[0]&&(N.value=e[0]),c=new $e({props:N}),q.push((()=>oe(c,"value",z)));let I={$$slots:{default:[_e]},$$scope:{ctx:e}};function F(t){e[14](t)}void 0!==e[1]&&(I.value=e[1]),d=new $e({props:I}),q.push((()=>oe(d,"value",U)));let H={$$slots:{default:[ke]},$$scope:{ctx:e}};function J(t){e[16](t)}void 0!==e[2]&&(H.value=e[2]),p=new $e({props:H}),q.push((()=>oe(p,"value",F)));let V={$$slots:{default:[Te]},$$scope:{ctx:e}};function K(t){e[17](t)}void 0!==e[3]&&(V.value=e[3]),b=new fe({props:V}),q.push((()=>oe(b,"value",J)));let G={toogle:e[10]};void 0!==e[5]&&(G.recording=e[5]),j=new be({props:G}),q.push((()=>oe(j,"recording",K)));let Q=e[7]&&Me(e);return{c(){t=x("div"),n=x("video"),r=k(),o=x("div"),i=x("div"),a=x("div"),se(c.$$.fragment),u=k(),se(d.$$.fragment),m=k(),se(p.$$.fragment),g=k(),v=x("button"),v.textContent="Select Screen",$=k(),w=x("div"),se(b.$$.fragment),C=k(),A=x("div"),se(j.$$.fragment),P=k(),Q&&Q.c(),n.muted=!0,M(n,"class","svelte-x515sc"),M(t,"class","vid svelte-x515sc"),M(v,"class","svelte-x515sc"),M(a,"class","options svelte-x515sc"),L(a,"hidden",0!==e[8]),M(w,"class","countdown svelte-x515sc"),L(w,"hidden",1!==e[8]),M(A,"class","record svelte-x515sc"),L(A,"hidden",2!==e[8]&&1!==e[8]),M(i,"class","pannel svelte-x515sc"),M(o,"class","overlay svelte-x515sc")},m(s,l){S(s,t,l),y(t,n),e[11](n),S(s,r,l),S(s,o,l),y(o,i),y(i,a),ie(c,a,null),y(a,u),ie(d,a,null),y(a,m),ie(p,a,null),y(a,g),y(a,v),y(i,$),y(i,w),ie(b,w,null),y(i,C),y(i,A),ie(j,A,null),y(o,P),Q&&Q.m(o,null),R=!0,D||(W=T(v,"click",e[15]),D=!0)},p(e,[t]){const n={};2097152&t&&(n.$$scope={dirty:t,ctx:e}),!l&&1&t&&(l=!0,n.value=e[0],B((()=>l=!1))),c.$set(n);const r={};2097152&t&&(r.$$scope={dirty:t,ctx:e}),!f&&2&t&&(f=!0,r.value=e[1],B((()=>f=!1))),d.$set(r);const i={};2097152&t&&(i.$$scope={dirty:t,ctx:e}),!h&&4&t&&(h=!0,i.value=e[2],B((()=>h=!1))),p.$set(i),256&t&&L(a,"hidden",0!==e[8]);const u={};2097152&t&&(u.$$scope={dirty:t,ctx:e}),!_&&8&t&&(_=!0,u.value=e[3],B((()=>_=!1))),b.$set(u),256&t&&L(w,"hidden",1!==e[8]);const m={};!O&&32&t&&(O=!0,m.recording=e[5],B((()=>O=!1))),j.$set(m),256&t&&L(A,"hidden",2!==e[8]&&1!==e[8]),e[7]?Q?(Q.p(e,t),128&t&&Z(Q,1)):(Q=Me(e),Q.c(),Z(Q,1),Q.m(o,null)):Q&&(Y={r:0,c:[],p:Y},ee(Q,1,1,(()=>{Q=null})),Y.r||s(Y.c),Y=Y.p)},i(e){R||(Z(c.$$.fragment,e),Z(d.$$.fragment,e),Z(p.$$.fragment,e),Z(b.$$.fragment,e),Z(j.$$.fragment,e),Z(Q),R=!0)},o(e){ee(c.$$.fragment,e),ee(d.$$.fragment,e),ee(p.$$.fragment,e),ee(b.$$.fragment,e),ee(j.$$.fragment,e),ee(Q),R=!1},d(n){n&&E(t),e[11](null),n&&E(r),n&&E(o),ae(c),ae(d),ae(p),ae(b),ae(j),Q&&Q.d(),D=!1,W()}}}function Ae(e,t,n){const r=JSON.parse(localStorage.getItem("screen-recorder-app-state")||JSON.stringify({systemAudio:!0,micAudio:!1,saveImediately:!0,timeOut:5}));let o,s,i=r.systemAudio,a=r.micAudio,c=r.saveImediately,l=r.timeOut,u=!1,d=0,f=!1,m=0;async function p(){n(5,u=!1),n(8,m=0)}async function h(){s=new he({microphone:a,systemAudio:i,timeslice:5e3}),s.addEventListener("stopping",p),s.addEventListener("error",p),window.r=s,n(4,o.srcObject=s.rStream,o),o.play(),await s.requestStreams(),n(8,m++,m)}return e.$$.update=()=>{15&e.$$.dirty&&localStorage.setItem("screen-recorder-app-state",JSON.stringify({systemAudio:i,micAudio:a,saveImediately:c,timeOut:l}))},[i,a,c,l,o,u,d,f,m,h,async function(){if(u)s.stop();else{n(7,f=!0);for await(let e of async function*(e,t=1e3){for(let n=0;n<=e&&(yield e-n,e!==n);n++)await Ee(t)}(l))n(6,d=e);n(7,f=!1),s.saveStream(),n(5,u=!0),n(8,m++,m)}},function(e){q[e?"unshift":"push"]((()=>{o=e,n(4,o)}))},function(e){i=e,n(0,i)},function(e){a=e,n(1,a)},function(e){c=e,n(2,c)},()=>h(),function(e){l=e,n(3,l)},function(e){u=e,n(5,u)}]}const Le=new class extends le{constructor(e){super(),ce(this,e,Ae,Ce,a,{})}}({target:document.body});window.app=Le})()})();
//# sourceMappingURL=app.js.map