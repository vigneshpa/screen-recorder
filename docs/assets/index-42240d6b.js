var Vt=Object.defineProperty;var Wt=(e,t,n)=>t in e?Vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Y=(e,t,n)=>(Wt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function ee(){}const bt=e=>e;function zt(e,t){for(const n in t)e[n]=t[n];return e}function kt(e){return e()}function ot(){return Object.create(null)}function K(e){e.forEach(kt)}function we(e){return typeof e=="function"}function Le(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Bt(e){return Object.keys(e).length===0}function Et(e,t,n,r){if(e){const o=St(e,t,n,r);return e[0](o)}}function St(e,t,n,r){return e[1]&&r?zt(n.ctx.slice(),e[1](r(t))):n.ctx}function Ct(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const s=[],i=Math.max(t.dirty.length,o.length);for(let l=0;l<i;l+=1)s[l]=t.dirty[l]|o[l];return s}return t.dirty|o}return t.dirty}function At(e,t,n,r,o,s){if(o){const i=St(t,n,r,s);e.p(i,o)}}function Rt(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}const jt=typeof window<"u";let Ft=jt?()=>window.performance.now():()=>Date.now(),Je=jt?e=>requestAnimationFrame(e):ee;const ue=new Set;function Lt(e){ue.forEach(t=>{t.c(e)||(ue.delete(t),t.f())}),ue.size!==0&&Je(Lt)}function Jt(e){let t;return ue.size===0&&Je(Lt),{promise:new Promise(n=>{ue.add(t={c:e,f:n})}),abort(){ue.delete(t)}}}function _(e,t){e.appendChild(t)}function Mt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Ht(e){const t=v("style");return Kt(Mt(e),t),t.sheet}function Kt(e,t){return _(e.head||e,t),t.sheet}function L(e,t,n){e.insertBefore(t,n||null)}function A(e){e.parentNode&&e.parentNode.removeChild(e)}function He(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function j(e){return document.createTextNode(e)}function R(){return j(" ")}function Tt(){return j("")}function D(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $t(e){return e===""?null:+e}function Gt(e){return Array.from(e.childNodes)}function Ke(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function it(e,t){e.value=t??""}function oe(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t){r.selected=!0;return}}e.selectedIndex=-1}function Ue(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function U(e,t,n){e.classList[n?"add":"remove"](t)}function Qt(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}const Re=new Map;let je=0;function Xt(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Yt(e,t){const n={stylesheet:Ht(t),rules:{}};return Re.set(e,n),n}function lt(e,t,n,r,o,s,i,l=0){const c=16.666/r;let a=`{
`;for(let M=0;M<=1;M+=c){const k=t+(n-t)*s(M);a+=M*100+`%{${i(k,1-k)}}
`}const h=a+`100% {${i(n,1-n)}}
}`,d=`__svelte_${Xt(h)}_${l}`,p=Mt(e),{stylesheet:f,rules:m}=Re.get(p)||Yt(p,e);m[d]||(m[d]=!0,f.insertRule(`@keyframes ${d} ${h}`,f.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${d} ${r}ms linear ${o}ms 1 both`,je+=1,d}function Zt(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),je-=o,je||xt())}function xt(){Je(()=>{je||(Re.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&A(t)}),Re.clear())})}let Ge;function ve(e){Ge=e}const le=[],Z=[],Ce=[],ze=[],en=Promise.resolve();let Be=!1;function tn(){Be||(Be=!0,en.then(Ot))}function x(e){Ce.push(e)}function _e(e){ze.push(e)}const Ie=new Set;let ie=0;function Ot(){if(ie!==0)return;const e=Ge;do{try{for(;ie<le.length;){const t=le[ie];ie++,ve(t),nn(t.$$)}}catch(t){throw le.length=0,ie=0,t}for(ve(null),le.length=0,ie=0;Z.length;)Z.pop()();for(let t=0;t<Ce.length;t+=1){const n=Ce[t];Ie.has(n)||(Ie.add(n),n())}Ce.length=0}while(le.length);for(;ze.length;)ze.pop()();Be=!1,Ie.clear(),ve(e)}function nn(e){if(e.fragment!==null){e.update(),K(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(x)}}let pe;function rn(){return pe||(pe=Promise.resolve(),pe.then(()=>{pe=null})),pe}function Ve(e,t,n){e.dispatchEvent(Qt(`${t?"intro":"outro"}${n}`))}const Ae=new Set;let H;function sn(){H={r:0,c:[],p:H}}function on(){H.r||K(H.c),H=H.p}function I(e,t){e&&e.i&&(Ae.delete(e),e.i(t))}function J(e,t,n,r){if(e&&e.o){if(Ae.has(e))return;Ae.add(e),H.c.push(()=>{Ae.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const ln={duration:0};function ct(e,t,n,r){const o={direction:"both"};let s=t(e,n,o),i=r?0:1,l=null,c=null,a=null;function h(){a&&Zt(e,a)}function d(f,m){const y=f.b-i;return m*=Math.abs(y),{a:i,b:f.b,d:y,duration:m,start:f.start,end:f.start+m,group:f.group}}function p(f){const{delay:m=0,duration:y=300,easing:M=bt,tick:k=ee,css:E}=s||ln,N={start:Ft()+m,b:f};f||(N.group=H,H.r+=1),l||c?c=N:(E&&(h(),a=lt(e,i,f,y,m,M,E)),f&&k(0,1),l=d(N,y),x(()=>Ve(e,f,"start")),Jt(V=>{if(c&&V>c.start&&(l=d(c,y),c=null,Ve(e,l.b,"start"),E&&(h(),a=lt(e,i,l.b,l.duration,0,M,s.css))),l){if(V>=l.end)k(i=l.b,1-i),Ve(e,l.b,"end"),c||(l.b?h():--l.group.r||K(l.group.c)),l=null;else if(V>=l.start){const S=V-l.start;i=l.a+l.d*M(S/l.duration),k(i,1-i)}}return!!(l||c)}))}return{run(f){we(s)?rn().then(()=>{s=s(o),p(f)}):p(f)},end(){h(),l=c=null}}}function me(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ge(e){e&&e.c()}function ce(e,t,n,r){const{fragment:o,after_update:s}=e.$$;o&&o.m(t,n),r||x(()=>{const i=e.$$.on_mount.map(kt).filter(we);e.$$.on_destroy?e.$$.on_destroy.push(...i):K(i),e.$$.on_mount=[]}),s.forEach(x)}function ae(e,t){const n=e.$$;n.fragment!==null&&(K(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function cn(e,t){e.$$.dirty[0]===-1&&(le.push(e),tn(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Me(e,t,n,r,o,s,i,l=[-1]){const c=Ge;ve(e);const a=e.$$={fragment:null,ctx:[],props:s,update:ee,not_equal:o,bound:ot(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:ot(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};i&&i(a.root);let h=!1;if(a.ctx=n?n(e,t.props||{},(d,p,...f)=>{const m=f.length?f[0]:p;return a.ctx&&o(a.ctx[d],a.ctx[d]=m)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](m),h&&cn(e,d)),p}):[],a.update(),h=!0,K(a.before_update),a.fragment=r?r(a.ctx):!1,t.target){if(t.hydrate){const d=Gt(t.target);a.fragment&&a.fragment.l(d),d.forEach(A)}else a.fragment&&a.fragment.c();t.intro&&I(e.$$.fragment),ce(e,t.target,t.anchor,t.customElement),Ot()}ve(c)}class Te{$destroy(){ae(this,1),this.$destroy=ee}$on(t,n){if(!we(n))return ee;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!Bt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function an(e){let t,n,r,o,s,i,l,c,a,h,d;const p=e[4].default,f=Et(p,e,e[3],null);return{c(){t=v("div"),n=v("label"),f&&f.c(),r=R(),o=v("button"),o.textContent="-",s=R(),i=v("input"),l=R(),c=v("button"),c.textContent="+",g(n,"for",e[2]),g(n,"class","svelte-sfum2z"),g(o,"class","dec svelte-sfum2z"),g(i,"type","number"),g(i,"id",e[2]),g(i,"min",e[1]),g(i,"class","svelte-sfum2z"),g(c,"class","inc svelte-sfum2z"),g(t,"class","container svelte-sfum2z")},m(m,y){L(m,t,y),_(t,n),f&&f.m(n,null),_(t,r),_(t,o),_(t,s),_(t,i),it(i,e[0]),_(t,l),_(t,c),a=!0,h||(d=[D(o,"click",e[5]),D(i,"input",e[6]),D(c,"click",e[7])],h=!0)},p(m,[y]){f&&f.p&&(!a||y&8)&&At(f,p,m,m[3],a?Ct(p,m[3],y,null):Rt(m[3]),null),(!a||y&2)&&g(i,"min",m[1]),y&1&&$t(i.value)!==m[0]&&it(i,m[0])},i(m){a||(I(f,m),a=!0)},o(m){J(f,m),a=!1},d(m){m&&A(t),f&&f.d(m),h=!1,K(d)}}}function un(e,t,n){let{$$slots:r={},$$scope:o}=t,{value:s=0}=t,{min:i=0}=t,l=Math.floor(Math.random()*1e3)+"-number";const c=()=>n(0,s--,s);function a(){s=$t(this.value),n(0,s),n(1,i)}const h=()=>n(0,s++,s);return e.$$set=d=>{"value"in d&&n(0,s=d.value),"min"in d&&n(1,i=d.min),"$$scope"in d&&n(3,o=d.$$scope)},e.$$.update=()=>{e.$$.dirty&3&&(n(0,s=Math.trunc(s)),s<i&&n(0,s=i))},[s,i,l,o,r,c,a,h]}class fn extends Te{constructor(t){super(),Me(this,t,un,an,Le,{value:0,min:1})}}async function Fe(e=1e3){return new Promise(t=>setTimeout(()=>t(),e))}async function*dn(e,t=1e3){for(let n=0;n<=e&&(yield e-n,e!==n);n++)await Fe(t)}function hn(e,t){const n=document.createElement("a");n.hidden=!0;const r=URL.createObjectURL(t);n.href=r,n.download=e,document.body.append(n),n.click(),n.remove(),setTimeout(()=>URL.revokeObjectURL(r))}function _n(e){let t="hiddenDownloader",n=document.getElementById(t);n===null&&(n=document.createElement("iframe"),n.id=t,n.style.display="none",document.body.appendChild(n)),n.src=e}const pn=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;function mn(e,t,n){if(n=n||"application/octet-stream",!window.navigator.serviceWorker.controller)throw new Error("No service worker registered");const r=gn(t),o=[];o.push(["Content-Disposition",`attachment; filename="${e}"`]),o.push(["Content-Type",n]),o.push(["Connection","close"]),o.push(["Cache-Control","no-cache"]);try{window.navigator.serviceWorker.controller.postMessage({type:"streaming-downloads-response",filename:e,stream:r,headers:o,status:200},[r])}catch(s){console.warn(s,"Trying with message channel");const i=new MessageChannel,l=i.port1;let c;l.addEventListener("message",async a=>{try{if(a.data==="start")c=r.getReader();else if(a.data==="pull"){const{value:h,done:d}=await c.read();d?l.postMessage("close"):l.postMessage(h)}else a.data==="cancel"&&c.cancel()}catch{l.postMessage("error")}}),window.navigator.serviceWorker.controller.postMessage({filename:e,headers:o,status:200,stream:i.port2},[i.port2])}setTimeout(()=>_n("/screen-recorder/streaming-downloads/"+e),1e3)}function gn(e){let t;return new ReadableStream({start(){t=e.getReader()},async pull(n){const{value:r,done:o}=await t.read();o?n.close():n.enqueue(new Uint8Array(await r.arrayBuffer()))},cancel(n){t.cancel(n)}})}class vn extends window.EventTarget{constructor(n){super();Y(this,"config");Y(this,"recorder");Y(this,"rStream");Y(this,"aDest");Y(this,"aCtx");Y(this,"writer");Y(this,"state");this.config=n,this.rStream=new MediaStream,this.recorder=new MediaRecorder(this.rStream,{mimeType:this.config.mime}),this.aCtx=new AudioContext,this.aDest=this.aCtx.createMediaStreamDestination(),this.state="idle"}async requestScreen(){const n=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:this.config.systemAudio});n.getVideoTracks().length<1&&this.throwError("Unable to get video"),n.getVideoTracks().forEach(r=>this.rStream.addTrack(r)),this.config.systemAudio&&(this.config.systemAudio=n.getAudioTracks().length>0),this.config.systemAudio&&this.aCtx.createMediaStreamSource(n).connect(this.aDest),this.recorder.addEventListener("stop",r=>setTimeout(o=>n.getTracks().forEach(s=>s.stop()),300)),n.getVideoTracks()[0].addEventListener("ended",()=>this.stop())}async requestMicrophone(){if(!this.config.microphone)return;const n=await navigator.mediaDevices.getUserMedia({audio:!0});this.config.microphone=n.getAudioTracks().length>0,this.config.microphone&&(this.recorder.addEventListener("stop",r=>setTimeout(o=>n.getTracks().forEach(s=>s.stop()),300)),this.aCtx.createMediaStreamSource(n).connect(this.aDest))}async requestStreams(){return this.state!=="idle"&&this.throwError("Recorder is not idle"),await this.requestMicrophone(),await this.requestScreen(),(this.config.microphone||this.config.systemAudio)&&this.aDest.stream.getAudioTracks().forEach(n=>this.rStream.addTrack(n)),this.state="gotPermissions",this.dispatchEvent(new Event("gotPermissions")),this.rStream}saveStream(n="screencapture-"+new Date().toLocaleDateString().replaceAll("/","-")){if(this.state!=="gotPermissions"&&this.throwError("The recorder's state is invalid"),this.config.timeslice&&window.navigator.serviceWorker.controller){const r=this;let o,s;const i=new ReadableStream({start(l){o=c=>{l.enqueue(c),Fe(r.config.timeslice).then(()=>{s&&(s(),s=null)})},r.recorder.addEventListener("dataavailable",async c=>{o(c.data)}),r.recorder.addEventListener("stop",c=>{Fe(r.config.timeslice*2).then(()=>l.close()),r.state="stopped",r.dispatchEvent(new Event("stopped"))})},pull(){return new Promise(l=>{s=l,r.recorder.state==="recording"&&r.recorder.requestData()})},cancel(){r.stop()}});mn(n+"."+this.config.ext,i,this.config.mime),this.recorder.start()}else this.recorder.addEventListener("dataavailable",r=>hn(n+"."+this.config.ext,r.data)),this.recorder.addEventListener("stop",r=>{this.state="stopped",this.dispatchEvent(new Event("stopped"))}),this.recorder.start();this.state="recording"}stop(){this.state==="recording"?this.recorder.stop():this.throwError("Cannot stop recording"),this.state="stopping",this.aCtx.close(),this.dispatchEvent(new Event("stopping"))}throwError(n){const r=new Error(n);this.state="error";const o=new Event("error");throw o.error=r,this.dispatchEvent(o),r}}function wn(e){let t,n,r,o,s,i,l,c,a,h;const d=e[3].default,p=Et(d,e,e[2],null);return{c(){t=v("div"),n=v("label"),r=v("input"),o=R(),s=v("div"),i=R(),l=v("label"),p&&p.c(),g(r,"type","checkbox"),g(r,"id",e[1]),g(r,"class","svelte-r0ot5f"),g(s,"class","but svelte-r0ot5f"),g(n,"class","switch svelte-r0ot5f"),g(l,"for",e[1]),g(l,"class","txt svelte-r0ot5f"),g(t,"class","container svelte-r0ot5f")},m(f,m){L(f,t,m),_(t,n),_(n,r),r.checked=e[0],_(n,o),_(n,s),_(t,i),_(t,l),p&&p.m(l,null),c=!0,a||(h=D(r,"change",e[4]),a=!0)},p(f,[m]){m&1&&(r.checked=f[0]),p&&p.p&&(!c||m&4)&&At(p,d,f,f[2],c?Ct(d,f[2],m,null):Rt(f[2]),null)},i(f){c||(I(p,f),c=!0)},o(f){J(p,f),c=!1},d(f){f&&A(t),p&&p.d(f),a=!1,h()}}}function yn(e,t,n){let{$$slots:r={},$$scope:o}=t,{value:s=!1}=t,i=Math.trunc(Math.random()*1e3)+"-switch";function l(){s=this.checked,n(0,s)}return e.$$set=c=>{"value"in c&&n(0,s=c.value),"$$scope"in c&&n(2,o=c.$$scope)},[s,i,o,r,l]}class We extends Te{constructor(t){super(),Me(this,t,yn,wn,Le,{value:0})}}function bn(e){let t,n,r,o,s;return{c(){t=v("div"),n=v("div"),r=v("div"),g(r,"class","innerdiv svelte-r167gc"),U(r,"recording",e[0]),g(n,"class","ring svelte-r167gc"),U(n,"recording",e[0]),g(t,"class","container svelte-r167gc")},m(i,l){L(i,t,l),_(t,n),_(n,r),o||(s=[D(n,"click",function(){we(e[1])&&e[1].apply(this,arguments)}),D(n,"keydown",function(){we(e[1])&&e[1].apply(this,arguments)})],o=!0)},p(i,[l]){e=i,l&1&&U(r,"recording",e[0]),l&1&&U(n,"recording",e[0])},i:ee,o:ee,d(i){i&&A(t),o=!1,K(s)}}}function kn(e,t,n){let{recording:r=!1}=t,{toogle:o=()=>{n(0,r=!r)}}=t;return e.$$set=s=>{"recording"in s&&n(0,r=s.recording),"toogle"in s&&n(1,o=s.toogle)},[r,o]}class En extends Te{constructor(t){super(),Me(this,t,kn,bn,Le,{recording:0,toogle:1})}}function at(e,{delay:t=0,duration:n=400,easing:r=bt}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:s=>`opacity: ${s*o}`}}function Sn(){const e=["webm","x-matroska","mp4","ogg"],t=[["av1","av01","vp10"],["vp9","vp09","vp9.0"],["h265","h.265","hevc"],["vp8","vp08","vp8.0"],["avc1","h264","h.264"],["theora"],["h263","h.263"],["mp4v"]],n=[["opus"],["aac"],["vorbis"],["mp4a"]],r=new Map;for(let o of e){if(!MediaRecorder.isTypeSupported("video/"+o))continue;const s=new Map;for(let i of t){const l=i.find(a=>MediaRecorder.isTypeSupported("video/"+o+';codecs="'+a+'"'));if(!l)continue;const c=[];for(let a of n){const h=a.find(d=>MediaRecorder.isTypeSupported("video/"+o+';codecs="'+l+","+d+'"'));h&&c.push(h)}s.set(l,c)}r.set(o,s)}return r}const Dt=new Map([["webm","webm"],["x-matroska","mkv"],["mp4","mp4"],["ogg","ogg"]]);function ut(e,t,n){const r=e.slice();return r[32]=t[n],r}function ft(e,t,n){const r=e.slice();return r[32]=t[n],r}function dt(e,t,n){const r=e.slice();return r[32]=t[n],r}function ht(e){let t,n=e[32]+"",r,o,s=Dt.get(e[32])+"",i,l;return{c(){t=v("option"),r=j(n),o=j(" (*."),i=j(s),l=j(")"),t.__value=e[32],t.value=t.__value,g(t,"class","svelte-e1jdwr")},m(c,a){L(c,t,a),_(t,r),_(t,o),_(t,i),_(t,l)},p:ee,d(c){c&&A(t)}}}function _t(e){var o;let t,n=Array.from(((o=e[12].get(e[4]))==null?void 0:o.keys())||[]),r=[];for(let s=0;s<n.length;s+=1)r[s]=pt(ft(e,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();t=Tt()},m(s,i){for(let l=0;l<r.length;l+=1)r[l].m(s,i);L(s,t,i)},p(s,i){var l;if(i[0]&4112){n=Array.from(((l=s[12].get(s[4]))==null?void 0:l.keys())||[]);let c;for(c=0;c<n.length;c+=1){const a=ft(s,n,c);r[c]?r[c].p(a,i):(r[c]=pt(a),r[c].c(),r[c].m(t.parentNode,t))}for(;c<r.length;c+=1)r[c].d(1);r.length=n.length}},d(s){He(r,s),s&&A(t)}}}function pt(e){let t,n=e[32]+"",r,o;return{c(){t=v("option"),r=j(n),t.__value=o=e[32],t.value=t.__value,g(t,"class","svelte-e1jdwr")},m(s,i){L(s,t,i),_(t,r)},p(s,i){i[0]&16&&n!==(n=s[32]+"")&&Ke(r,n),i[0]&4112&&o!==(o=s[32])&&(t.__value=o,t.value=t.__value)},d(s){s&&A(t)}}}function mt(e){var o,s;let t,n=((s=(o=e[12])==null?void 0:o.get(e[4]))==null?void 0:s.get(e[5]))||[],r=[];for(let i=0;i<n.length;i+=1)r[i]=gt(ut(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Tt()},m(i,l){for(let c=0;c<r.length;c+=1)r[c].m(i,l);L(i,t,l)},p(i,l){var c,a;if(l[0]&4144){n=((a=(c=i[12])==null?void 0:c.get(i[4]))==null?void 0:a.get(i[5]))||[];let h;for(h=0;h<n.length;h+=1){const d=ut(i,n,h);r[h]?r[h].p(d,l):(r[h]=gt(d),r[h].c(),r[h].m(t.parentNode,t))}for(;h<r.length;h+=1)r[h].d(1);r.length=n.length}},d(i){He(r,i),i&&A(t)}}}function gt(e){let t,n=e[32]+"",r,o;return{c(){t=v("option"),r=j(n),t.__value=o=e[32],t.value=t.__value,g(t,"class","svelte-e1jdwr")},m(s,i){L(s,t,i),_(t,r)},p(s,i){i[0]&48&&n!==(n=s[32]+"")&&Ke(r,n),i[0]&4144&&o!==(o=s[32])&&(t.__value=o,t.value=t.__value)},d(s){s&&A(t)}}}function Cn(e){let t;return{c(){t=j("Record system audio")},m(n,r){L(n,t,r)},d(n){n&&A(t)}}}function An(e){let t;return{c(){t=j("Record from microphone")},m(n,r){L(n,t,r)},d(n){n&&A(t)}}}function Rn(e){let t;return{c(){t=j("Save video while recording (recomended)")},m(n,r){L(n,t,r)},d(n){n&&A(t)}}}function jn(e){let t;return{c(){t=j("Countdown")},m(n,r){L(n,t,r)},d(n){n&&A(t)}}}function vt(e){let t,n,r,o;return{c(){t=v("div"),n=j(e[9]),g(t,"class","counter svelte-e1jdwr")},m(s,i){L(s,t,i),_(t,n),o=!0},p(s,i){(!o||i[0]&512)&&Ke(n,s[9])},i(s){o||(x(()=>{r||(r=ct(t,at,{},!0)),r.run(1)}),o=!0)},o(s){r||(r=ct(t,at,{},!1)),r.run(0),o=!1},d(s){s&&A(t),s&&r&&r.end()}}}function Ln(e){let t,n,r,o,s,i,l,c,a,h,d,p,f,m,y,M,k,E,N,V,S,W,fe,ye,z,de,be,B,he,ke,te,Ee,G,Se,b,P,F,$e,Qe,re,Q,Oe,Xe,X,De,Ye,se=Array.from(e[12].keys()),T=[];for(let u=0;u<se.length;u+=1)T[u]=ht(dt(e,se,u));let $=e[4]&&_t(e),O=e[5]&&mt(e);function Nt(u){e[20](u)}let Ze={$$slots:{default:[Cn]},$$scope:{ctx:e}};e[0]!==void 0&&(Ze.value=e[0]),W=new We({props:Ze}),Z.push(()=>me(W,"value",Nt));function Pt(u){e[21](u)}let xe={$$slots:{default:[An]},$$scope:{ctx:e}};e[1]!==void 0&&(xe.value=e[1]),z=new We({props:xe}),Z.push(()=>me(z,"value",Pt));function qt(u){e[22](u)}let et={$$slots:{default:[Rn]},$$scope:{ctx:e}};e[2]!==void 0&&(et.value=e[2]),B=new We({props:et}),Z.push(()=>me(B,"value",qt));function Ut(u){e[26](u)}let tt={$$slots:{default:[jn]},$$scope:{ctx:e}};e[3]!==void 0&&(tt.value=e[3]),F=new fn({props:tt}),Z.push(()=>me(F,"value",Ut));function It(u){e[27](u)}let nt={toogle:e[14]};e[8]!==void 0&&(nt.recording=e[8]),Q=new En({props:nt}),Z.push(()=>me(Q,"recording",It));let C=e[10]&&vt(e);return{c(){t=v("div"),n=v("video"),r=R(),o=v("div"),s=v("div"),i=v("div"),l=v("label"),c=j(`Container:
        `),a=v("select");for(let u=0;u<T.length;u+=1)T[u].c();h=R(),d=v("label"),p=j(`Video Codec:
        `),f=v("select"),$&&$.c(),m=R(),y=v("label"),M=j(`Audio Codec:
        `),k=v("select"),O&&O.c(),E=R(),N=v("button"),N.textContent="Done",V=R(),S=v("div"),ge(W.$$.fragment),ye=R(),ge(z.$$.fragment),be=R(),ge(B.$$.fragment),ke=R(),te=v("button"),te.textContent="Select Screen",Ee=R(),G=v("a"),G.textContent="change video settings",Se=v("br"),b=R(),P=v("div"),ge(F.$$.fragment),Qe=R(),re=v("div"),ge(Q.$$.fragment),Xe=R(),C&&C.c(),n.muted=!0,g(n,"class","svelte-e1jdwr"),g(t,"class","vid svelte-e1jdwr"),g(a,"class","svelte-e1jdwr"),e[4]===void 0&&x(()=>e[16].call(a)),g(l,"class","svelte-e1jdwr"),g(f,"class","svelte-e1jdwr"),e[5]===void 0&&x(()=>e[17].call(f)),g(d,"class","svelte-e1jdwr"),g(k,"class","svelte-e1jdwr"),e[6]===void 0&&x(()=>e[18].call(k)),g(y,"class","svelte-e1jdwr"),g(N,"class","svelte-e1jdwr"),g(i,"class","video-options svelte-e1jdwr"),U(i,"hidden",e[11]!=-1),g(te,"class","svelte-e1jdwr"),g(G,"class","svelte-e1jdwr"),g(S,"class","options svelte-e1jdwr"),U(S,"hidden",e[11]!==0),g(P,"class","countdown svelte-e1jdwr"),U(P,"hidden",e[11]!==1),g(re,"class","record svelte-e1jdwr"),U(re,"hidden",e[11]!==2&&e[11]!==1),g(s,"class","pannel svelte-e1jdwr"),g(o,"class","overlay svelte-e1jdwr")},m(u,w){L(u,t,w),_(t,n),e[15](n),L(u,r,w),L(u,o,w),_(o,s),_(s,i),_(i,l),_(l,c),_(l,a);for(let ne=0;ne<T.length;ne+=1)T[ne].m(a,null);oe(a,e[4]),_(i,h),_(i,d),_(d,p),_(d,f),$&&$.m(f,null),oe(f,e[5]),_(i,m),_(i,y),_(y,M),_(y,k),O&&O.m(k,null),oe(k,e[6]),_(i,E),_(i,N),_(s,V),_(s,S),ce(W,S,null),_(S,ye),ce(z,S,null),_(S,be),ce(B,S,null),_(S,ke),_(S,te),_(S,Ee),_(S,G),_(S,Se),_(s,b),_(s,P),ce(F,P,null),_(s,Qe),_(s,re),ce(Q,re,null),_(o,Xe),C&&C.m(o,null),X=!0,De||(Ye=[D(a,"change",e[16]),D(f,"change",e[17]),D(k,"change",e[18]),D(N,"click",e[19]),D(te,"click",e[23]),D(G,"click",e[24]),D(G,"keypress",e[25])],De=!0)},p(u,w){if(w[0]&4096){se=Array.from(u[12].keys());let q;for(q=0;q<se.length;q+=1){const st=dt(u,se,q);T[q]?T[q].p(st,w):(T[q]=ht(st),T[q].c(),T[q].m(a,null))}for(;q<T.length;q+=1)T[q].d(1);T.length=se.length}w[0]&4112&&oe(a,u[4]),u[4]?$?$.p(u,w):($=_t(u),$.c(),$.m(f,null)):$&&($.d(1),$=null),w[0]&4144&&oe(f,u[5]),u[5]?O?O.p(u,w):(O=mt(u),O.c(),O.m(k,null)):O&&(O.d(1),O=null),w[0]&4208&&oe(k,u[6]),(!X||w[0]&2048)&&U(i,"hidden",u[11]!=-1);const ne={};w[1]&256&&(ne.$$scope={dirty:w,ctx:u}),!fe&&w[0]&1&&(fe=!0,ne.value=u[0],_e(()=>fe=!1)),W.$set(ne);const Ne={};w[1]&256&&(Ne.$$scope={dirty:w,ctx:u}),!de&&w[0]&2&&(de=!0,Ne.value=u[1],_e(()=>de=!1)),z.$set(Ne);const Pe={};w[1]&256&&(Pe.$$scope={dirty:w,ctx:u}),!he&&w[0]&4&&(he=!0,Pe.value=u[2],_e(()=>he=!1)),B.$set(Pe),(!X||w[0]&2048)&&U(S,"hidden",u[11]!==0);const qe={};w[1]&256&&(qe.$$scope={dirty:w,ctx:u}),!$e&&w[0]&8&&($e=!0,qe.value=u[3],_e(()=>$e=!1)),F.$set(qe),(!X||w[0]&2048)&&U(P,"hidden",u[11]!==1);const rt={};!Oe&&w[0]&256&&(Oe=!0,rt.recording=u[8],_e(()=>Oe=!1)),Q.$set(rt),(!X||w[0]&2048)&&U(re,"hidden",u[11]!==2&&u[11]!==1),u[10]?C?(C.p(u,w),w[0]&1024&&I(C,1)):(C=vt(u),C.c(),I(C,1),C.m(o,null)):C&&(sn(),J(C,1,1,()=>{C=null}),on())},i(u){X||(I(W.$$.fragment,u),I(z.$$.fragment,u),I(B.$$.fragment,u),I(F.$$.fragment,u),I(Q.$$.fragment,u),I(C),X=!0)},o(u){J(W.$$.fragment,u),J(z.$$.fragment,u),J(B.$$.fragment,u),J(F.$$.fragment,u),J(Q.$$.fragment,u),J(C),X=!1},d(u){u&&A(t),e[15](null),u&&A(r),u&&A(o),He(T,u),$&&$.d(),O&&O.d(),ae(W),ae(z),ae(B),ae(F),ae(Q),C&&C.d(),De=!1,K(Ye)}}}const wt=2;function Mn(e,t,n){window.addEventListener("beforeunload",function(P){((l==null?void 0:l.state)==="recording"||(l==null?void 0:l.state)==="stopping")&&(P.returnValue="Do not close this window while recording",P.preventDefault())});const r=Sn();let o=JSON.parse(localStorage.getItem("screen-recorder-app-state")||"{}");const s=o.storeVersion!==wt?(()=>{const b=r.keys().next().value,P=r.get(b).keys().next().value,F=r.get(b).get(P)[0];return{systemAudio:!0,micAudio:!1,saveImediately:!0,timeOut:5,container:b,videoCodec:P,audioCodec:F}})():o;let i,l,c=s.systemAudio,a=s.micAudio,h=s.saveImediately,d=s.timeOut,p=s.container,f=s.videoCodec,m=s.audioCodec,y=!1,M=0,k=!1,E=0;async function N(){n(8,y=!1),n(11,E=0)}async function V(){l=new vn({microphone:a,systemAudio:c,timeslice:h?500:void 0,mime:"video/"+p+(pn?";codecs:":";codecs=")+f+","+m,ext:Dt.get(p)}),l.addEventListener("stopping",N),l.addEventListener("error",N),window.r=l,n(7,i.srcObject=l.rStream,i),i.play(),await l.requestStreams(),n(11,E++,E)}async function S(){if(y)l.stop();else{n(10,k=!0);for await(let b of dn(d))n(9,M=b);n(10,k=!1),l.saveStream(),n(8,y=!0),n(11,E++,E)}}function W(b){Z[b?"unshift":"push"](()=>{i=b,n(7,i)})}function fe(){p=Ue(this),n(4,p),n(12,r)}function ye(){f=Ue(this),n(5,f),n(12,r),n(4,p)}function z(){m=Ue(this),n(6,m),n(12,r),n(4,p),n(5,f)}const de=()=>n(11,E++,E);function be(b){c=b,n(0,c)}function B(b){a=b,n(1,a)}function he(b){h=b,n(2,h)}const ke=()=>V(),te=()=>n(11,E--,E),Ee=()=>n(11,E--,E);function G(b){d=b,n(3,d)}function Se(b){y=b,n(8,y)}return e.$$.update=()=>{e.$$.dirty[0]&127&&localStorage.setItem("screen-recorder-app-state",JSON.stringify({systemAudio:c,micAudio:a,saveImediately:h,timeOut:d,container:p,videoCodec:f,audioCodec:m,storeVersion:wt}))},[c,a,h,d,p,f,m,i,y,M,k,E,r,V,S,W,fe,ye,z,de,be,B,he,ke,te,Ee,G,Se]}class Tn extends Te{constructor(t){super(),Me(this,t,Mn,Ln,Le,{},null,[-1,-1])}}const $n="modulepreload",On=function(e){return"/screen-recorder/"+e},yt={},Dn=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=On(s),s in yt)return;yt[s]=!0;const i=s.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let h=o.length-1;h>=0;h--){const d=o[h];if(d.href===s&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":$n,i||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),i)return new Promise((h,d)=>{a.addEventListener("load",h),a.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};function Nn(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:s,onRegisterError:i}=e;let l,c;const a=async(d=!0)=>{await c};async function h(){if("serviceWorker"in navigator){const{Workbox:d}=await Dn(()=>import("./workbox-window.prod.es5-295a6886.js"),[]);l=new d("/screen-recorder/sw.js",{scope:"/screen-recorder/",type:"classic"}),l.addEventListener("activated",p=>{(p.isUpdate||p.isExternal)&&window.location.reload()}),l.addEventListener("installed",p=>{p.isUpdate||r==null||r()}),l.register({immediate:t}).then(p=>{s?s("/screen-recorder/sw.js",p):o==null||o(p)}).catch(p=>{i==null||i(p)})}}return c=h(),a}async function Pn(){}Nn();const qn=()=>window.app=new Tn({target:window.document.body});Pn().then(qn);
//# sourceMappingURL=index-42240d6b.js.map
